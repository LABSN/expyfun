language: c

before_install:
    - echo "deb http://archive.canonical.com/ lucid partner" | sudo tee -a /etc/apt/sources.list
    - echo "deb http://download.sr-support.com/x64 /" | sudo tee -a /etc/apt/sources.list
    - sudo apt-get update -qq
    - sudo apt-get install -qq -y --force-yes eyelink-display-software1.9
    - cd ~
    - wget http://faculty.washington.edu/larsoner/simpleexample.c
    # sudo apt-get install gcc-multilib
    # wget http://faculty.washington.edu/larsoner/lib.eyelinkcore.tar.gz
    # tar xzf lib.eyelinkcore.tar.gz
    - wget http://faculty.washington.edu/larsoner/lib.eyelinkcore\(3\).tar.gz
    - tar xzf lib.eyelinkcore\(3\).tar.gz
    - sudo mv ${PWD}/lib/*so* /usr/lib
    - sudo ldconfig
    # gcc simpleexample.c -m32 -leyelink_core -lm -o se
    - gcc simpleexample.c -leyelink_core -lm -o se
    - ldd ./se

script:
    # sudo ifdown venet0
    # ifconfig
    - ./se
    # sudo ifup venet0
